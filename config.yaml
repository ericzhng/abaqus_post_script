# ==============================================================================
# Configuration file for Abaqus post-processing script
# ==============================================================================

# ------------------------------------------------------------------------------
# 1. Path and Executable Configuration
# ------------------------------------------------------------------------------
paths:
  # Abaqus solver path
  abaqus_solver_path: "C:\\SIMULIA\\Commands\\abq2023.bat"

  # Base folder for simulation job files based on the operating system.
  job_folder:
    win32: "./data"
    linux: "/mnt/Pure/jobfolder"

  # Subfolder pattern for solver files. '{sim_type}' is a placeholder.
  solver_sub_folder_pattern: "step-*-Solver_*{sim_type}*"
  
  # Names of the files to be processed.
  file_names:
    uamp_properties: "uamp-properties.dat"
    odb_main: "main.odb"

# ------------------------------------------------------------------------------
# 2. Abaqus Extraction Settings (ODB Processing)
# ------------------------------------------------------------------------------
abaqus_settings:
  # ODB History Regions: Key is the internal name, value is the ODB path string.
  history_regions:
    # Node-based regions
    road: "Node PART-1-1.99111004"
    road_handle: "Node PART-1-1.99111005"
    rim: "Node PART-1-1.99222001"
    rim_handle: "Node PART-1-1.99222000"
    rim_spindle: "Node PART-1-1.99222002"
    # Element-based regions
    road_handle_connector: "Element PART-1-1.99111001"
    rim_handle_connector: "Element PART-1-1.99222000"
    rim_spindle_connector: "Element PART-1-1.99222001"

  # ODB History Outputs: Defines variables to extract per region.
  history_outputs:
    road:
      - V1
      - V2
      - COOR3
    road_handle:
      - RF1
      - RF2
      - RF3
      - TM1
      - TM3
    rim_handle:
      - UR1

  # History Step Options (Refactored): Defines which step option is used for which simulation.
  history_step_selection:
    # List of *available* step options (informational only, can be removed if not needed by the script)
    # available_options: [first, last, all, all_but_first]
    
    # Specific option to use for each simulation type (This replaces 'use_option' and the original 'history_steps_options')
    sim_type_mapping:
      braking: last
      cornering: last

# ------------------------------------------------------------------------------
# 3. UAMP Property Extraction Details
# ------------------------------------------------------------------------------
extraction_details:
  # UAMP Property Extraction: Define keys to extract for calculation (slip ratio/angle).
  uamp_keys:
    braking:
      - RIMSRY
    cornering:
      - ROADVX
      - ROADVY
